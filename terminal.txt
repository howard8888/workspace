How many closed-loop step(s) would you like to run? [default: 5]: 15
[env-loop] Running 15 closed-loop environment/controller step(s).
[env-loop] Each step will:
  1) Advance controller_steps and the temporal soft clock (one drift),
  2) Call env.reset() (first time) or env.step(last policy action),
  3) Inject EnvObservation into the WorldGraph as pred:/cue: facts,
  4) Run ONE controller step (Action Center) and store the last policy name.

[env-loop] Note: environment episode has not started yet; the first step will call env.reset().

[env-loop] Step 1/15
[env] Reset newborn_goat scenario: episode_index=1 scenario=newborn_goat_first_hour
[env→working] pred:posture:fallen -> w3 (b3) (attach=now)
[env→working] pred:proximity:mom:far -> w4 (b4) (attach=latest)
[env→working] pred:proximity:shelter:far -> w5 (b5) (attach=latest)
[env→working] pred:hazard:cliff:far -> w6 (b6) (attach=latest)
[env→world] KEYFRAME: env_reset(time_since_birth=0.00) | cleared 0 pred slot(s), 0 cue slot(s)
[env→world] pred:posture:fallen → b3 (attach=now)
[env→world] pred:proximity:mom:far → b4 (attach=latest)
[env→world] pred:proximity:shelter:far → b5 (attach=latest)
[env→world] pred:hazard:cliff:far → b6 (attach=latest)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=far shelter=far zone=unknown
[env→controller] policy:stand_up (added 3 bindings)
[pick] best_policy=policy:stand_up best_by=rl_exploit(non_drive_tiebreak) triggered=[policy:stand_up, policy:recover_fall] deficits=[policy:stand_up:0.00, policy:recover_fall:0.00] non_drive=[policy:stand_up:2.00, policy:recover_fall:0.00]
[rl-pick] chosen via non-drive tiebreak in deficit near-tie band: best_def=0.000 delta=0.000 → policy:stand_up (nd=2.00, q=+0.00) among [policy:stand_up(def=0.000, nd=2.00, q=+0.00), policy:recover_fall(def=0.000, nd=0.00, q=+0.00)]
[executed] policy:stand_up (ok, reward=+1.00) binding=b9
pre:  dev_gate: age_days=0.00<=3.0, trigger: fallen=True or (stand_intent=False and not standing=True) (hunger=0.50)
base: {'base': 'HERE', 'bid': '?'}
foa:  {'seeds': ['b6', 'b3'], 'size': 4, 'ids': {'b5', 'b3', 'b4', 'b6'}}
cands:['b3', '?']
post: dev_gate: age_days=0.00<=3.0, trigger: fallen=True or (stand_intent=False and not standing=True) (hunger=0.50)
[env-loop] summary envr't step=0 stage=birth posture=fallen mom=far nipple=hidden last_policy='policy:stand_up' zone=unknown
[env-loop] explain posture: initial storyboard setup: stage='birth' starts with posture='fallen' (newborn begins life on the ground).
[env-loop] explain nipple: initial storyboard setup: nipple_state='hidden' in stage 'birth'; the kid has not yet found or reached the nipple.
[env-loop] explain zone: zone is 'unknown'; either the environment has not yet established clear cliff/shelter distances or they are in a combination we do not classify, so gates treat it conservatively.

[env-loop] Step 2/15
[env] env_step=1 (since reset) stage=birth posture=fallen mom_distance=far nipple_state=hidden action='policy:stand_up'
[env→working] pred:posture:fallen -> w10 (b10) (attach=now)
[env→working] pred:proximity:mom:far -> w11 (b11) (attach=latest)
[env→working] pred:proximity:shelter:far -> w12 (b12) (attach=latest)
[env→working] pred:hazard:cliff:far -> w13 (b13) (attach=latest)
[env→world] (long-term obs unchanged; no new pred:* bindings written)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=far shelter=far zone=unknown
[env→controller] policy:stand_up (added 3 bindings)
[pick] best_policy=policy:stand_up best_by=rl_exploit(non_drive_tiebreak) triggered=[policy:stand_up, policy:recover_fall] deficits=[policy:stand_up:0.00, policy:recover_fall:0.00] non_drive=[policy:stand_up:2.00, policy:recover_fall:0.00]
[rl-pick] chosen via non-drive tiebreak in deficit near-tie band: best_def=0.000 delta=0.000 → policy:stand_up (nd=2.00, q=+0.30) among [policy:stand_up(def=0.000, nd=2.00, q=+0.30), policy:recover_fall(def=0.000, nd=0.00, q=+0.00)]
[executed] policy:stand_up (ok, reward=+1.00) binding=b16
pre:  dev_gate: age_days=0.00<=3.0, trigger: fallen=True or (stand_intent=False and not standing=True) (hunger=0.50)
base: {'base': 'HERE', 'bid': '?'}
foa:  {'seeds': ['b7', 'b3'], 'size': 4, 'ids': {'b5', 'b3', 'b4', 'b7'}}
cands:['b3', '?']
post: dev_gate: age_days=0.00<=3.0, trigger: fallen=True or (stand_intent=False and not standing=True) (hunger=0.50)
[env-loop] summary envr't step=1 stage=birth posture=fallen mom=far nipple=hidden last_policy='policy:stand_up' zone=unknown
[env-loop] explain posture: stand_up was requested this tick, but the newborn is still kept fallen by the storyboard (stage='birth'); standing will only appear once the stand-up transition threshold is reached.
[env-loop] explain nipple: nipple remains hidden; the storyboard has not yet made it reachable (or visible) to the kid in this stage.
[env-loop] explain zone: zone is 'unknown'; either the environment has not yet established clear cliff/shelter distances or they are in a combination we do not classify, so gates treat it conservatively.

[env-loop] Step 3/15
[env] env_step=2 (since reset) stage=birth posture=fallen mom_distance=far nipple_state=hidden action='policy:stand_up'
[env→working] pred:posture:fallen -> w17 (b17) (attach=now)
[env→working] pred:proximity:mom:far -> w18 (b18) (attach=latest)
[env→working] pred:proximity:shelter:far -> w19 (b19) (attach=latest)
[env→working] pred:hazard:cliff:far -> w20 (b20) (attach=latest)
[env→world] (long-term obs unchanged; no new pred:* bindings written)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=far shelter=far zone=unknown
[env→controller] policy:recover_fall (added 2 bindings)
[pick] best_policy=policy:recover_fall best_by=rl_explore triggered=[policy:stand_up, policy:recover_fall] deficits=[policy:stand_up:0.00, policy:recover_fall:0.00] non_drive=[policy:stand_up:2.00, policy:recover_fall:0.00]
[executed] policy:recover_fall (ok, reward=+0.80) binding=b22
pre:  dev_gate: True, trigger: fallen=True (bodymap_posture=fallen, bodymap_stale=False) or fall_cue=False cues=[]
base: {'base': 'HERE', 'bid': '?'}
foa:  {'seeds': ['b7', 'b3'], 'size': 4, 'ids': {'b5', 'b3', 'b4', 'b7'}}
cands:['b3', '?']
post: dev_gate: True, trigger: fallen=True (bodymap_posture=fallen, bodymap_stale=False) or fall_cue=False cues=[]
[env-loop] summary envr't step=2 stage=birth posture=fallen mom=far nipple=hidden last_policy='policy:recover_fall' zone=unknown
[env-loop] explain posture: stand_up was requested this tick, but the newborn is still kept fallen by the storyboard (stage='birth'); standing will only appear once the stand-up transition threshold is reached.
[env-loop] explain nipple: nipple remains hidden; the storyboard has not yet made it reachable (or visible) to the kid in this stage.
[env-loop] explain zone: zone is 'unknown'; either the environment has not yet established clear cliff/shelter distances or they are in a combination we do not classify, so gates treat it conservatively.

[env-loop] Step 4/15
[env] env_step=3 (since reset) stage=struggle posture=fallen mom_distance=far nipple_state=hidden action='policy:recover_fall'
[env→working] pred:posture:fallen -> w23 (b23) (attach=now)
[env→working] pred:proximity:mom:far -> w24 (b24) (attach=latest)
[env→working] pred:proximity:shelter:far -> w25 (b25) (attach=latest)
[env→working] pred:hazard:cliff:far -> w26 (b26) (attach=latest)
[env→world] KEYFRAME: stage_change 'birth'→'struggle' | cleared 4 pred slot(s), 0 cue slot(s)
[env→world] pred:posture:fallen → b9 (attach=now)
[env→world] pred:proximity:mom:far → b10 (attach=latest)
[env→world] pred:proximity:shelter:far → b11 (attach=latest)
[env→world] pred:hazard:cliff:far → b12 (attach=latest)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=far shelter=far zone=unknown
[env→controller] policy:stand_up (added 3 bindings)
[pick] best_policy=policy:stand_up best_by=rl_exploit(non_drive_tiebreak) triggered=[policy:stand_up, policy:recover_fall] deficits=[policy:stand_up:0.00, policy:recover_fall:0.00] non_drive=[policy:stand_up:2.00, policy:recover_fall:0.00]
[rl-pick] chosen via non-drive tiebreak in deficit near-tie band: best_def=0.000 delta=0.000 → policy:stand_up (nd=2.00, q=+0.51) among [policy:stand_up(def=0.000, nd=2.00, q=+0.51), policy:recover_fall(def=0.000, nd=0.00, q=+0.24)]
[executed] policy:stand_up (ok, reward=+1.00) binding=b29
pre:  dev_gate: age_days=0.00<=3.0, trigger: fallen=True or (stand_intent=False and not standing=True) (hunger=0.50)
base: {'base': 'HERE', 'bid': '?'}
foa:  {'seeds': ['b12', 'b9'], 'size': 4, 'ids': {'b12', 'b11', 'b9', 'b10'}}
cands:['b9', '?']
post: dev_gate: age_days=0.00<=3.0, trigger: fallen=True or (stand_intent=False and not standing=True) (hunger=0.50)
[env-loop] summary envr't step=3 stage=struggle posture=fallen mom=far nipple=hidden last_policy='policy:stand_up' zone=unknown
[env-loop] explain posture: storyboard keeps the kid posture='fallen' in stage='struggle'; no successful standing transition yet.
[env-loop] explain nipple: nipple remains hidden; the storyboard has not yet made it reachable (or visible) to the kid in this stage.
[env-loop] explain zone: zone is 'unknown'; either the environment has not yet established clear cliff/shelter distances or they are in a combination we do not classify, so gates treat it conservatively.

[env-loop] Step 5/15
[env] env_step=4 (since reset) stage=first_stand posture=standing mom_distance=far nipple_state=hidden action='policy:stand_up'
[env→working] pred:posture:standing -> w30 (b30) (attach=now)
[env→working] pred:proximity:mom:far -> w31 (b31) (attach=latest)
[env→working] pred:proximity:shelter:far -> w32 (b32) (attach=latest)
[env→working] pred:hazard:cliff:near -> w33 (b33) (attach=latest)
[env→world] KEYFRAME: stage_change 'struggle'→'first_stand' | cleared 4 pred slot(s), 0 cue slot(s)
[env→world] pred:posture:standing → b14 (attach=now)
[env→world] pred:proximity:mom:far → b15 (attach=latest)
[env→world] pred:proximity:shelter:far → b16 (attach=latest)
[env→world] pred:hazard:cliff:near → b17 (attach=latest)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=near shelter=far zone=unsafe_cliff_near
[env→controller] policy:follow_mom (added 2 bindings)
[pick] best_policy=policy:follow_mom best_by=rl_explore triggered=[policy:follow_mom] deficits=[policy:follow_mom:0.00] non_drive=[policy:follow_mom:0.00]
[executed] policy:follow_mom (ok, reward=+0.10) binding=b35
pre:  dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
base: {'base': 'NEAREST_PRED', 'pred': 'posture:standing', 'bid': 'b14'}
foa:  {'seeds': ['b17', 'b14'], 'size': 4, 'ids': {'b15', 'b14', 'b17', 'b16'}}
cands:['b14', '?']
post: dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
[env-loop] summary envr't step=4 stage=first_stand posture=standing mom=far nipple=hidden last_policy='policy:follow_mom' zone=unsafe_cliff_near
[env-loop] explain posture: stand_up action applied by the environment: posture changed fallen→standing as the storyboard moved 'struggle'→'first_stand'.
[env-loop] explain nipple: nipple remains hidden; the storyboard has not yet made it reachable (or visible) to the kid in this stage.
[env-loop] explain zone: zone changed 'unknown'→'unsafe_cliff_near'; BodyMap now sees the cliff near while shelter is not near, so this geometry is treated as unsafe for resting.

[env-loop] Step 6/15
[env] env_step=5 (since reset) stage=first_stand posture=standing mom_distance=near nipple_state=hidden action='policy:follow_mom'
[env→working] pred:posture:standing -> w36 (b36) (attach=now)
[env→working] pred:proximity:mom:close -> w37 (b37) (attach=latest)
[env→working] pred:proximity:shelter:far -> w38 (b38) (attach=latest)
[env→working] pred:hazard:cliff:far -> w39 (b39) (attach=latest)
[env→working] cue:vision:silhouette:mom -> w40 (b40) (attach=latest)
[env→world] pred:proximity:mom:close → b19 (attach=now)
[env→world] pred:hazard:cliff:far → b20 (attach=latest)
[env→world] cue:vision:silhouette:mom → b21 (attach=latest)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=far shelter=far zone=unknown
[env→controller] policy:follow_mom (added 2 bindings)
[pick] best_policy=policy:follow_mom best_by=rl_exploit(deficit) triggered=[policy:follow_mom] deficits=[policy:follow_mom:0.00] non_drive=[policy:follow_mom:0.00]
[executed] policy:follow_mom (ok, reward=+0.10) binding=b42
pre:  dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unknown (hunger=0.50, fatigue=0.30)
base: {'base': 'NEAREST_PRED', 'pred': 'posture:standing', 'bid': 'b14'}
foa:  {'seeds': ['b21', 'b14'], 'size': 7, 'ids': {'b15', 'b19', 'b14', 'b20', 'b18', 'b21', 'b16'}}
cands:['b14', '?']
post: dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unknown (hunger=0.50, fatigue=0.30)
[env-loop] summary envr't step=5 stage=first_stand posture=standing mom=near nipple=hidden last_policy='policy:follow_mom' zone=unknown
[env-loop] explain posture: posture remains 'standing'; no storyboard transition affecting posture this step.
[env-loop] explain nipple: nipple remains hidden; the storyboard has not yet made it reachable (or visible) to the kid in this stage.
[env-loop] explain zone: zone changed 'unsafe_cliff_near'→'unknown'; cliff/shelter geometry is now in a combination we do not classify (e.g., both near) or partially known, so we treat it conservatively.

[env-loop] Step 7/15
[env] env_step=6 (since reset) stage=first_stand posture=standing mom_distance=near nipple_state=hidden action='policy:follow_mom'
[env→working] pred:posture:standing -> w43 (b43) (attach=now)
[env→working] pred:proximity:mom:close -> w44 (b44) (attach=latest)
[env→working] pred:proximity:shelter:near -> w45 (b45) (attach=latest)
[env→working] pred:hazard:cliff:far -> w46 (b46) (attach=latest)
[env→working] cue:vision:silhouette:mom -> w47 (b47) (attach=latest)
[env→world] pred:proximity:shelter:near → b23 (attach=now)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=far shelter=near zone=safe
[env→controller] policy:follow_mom (added 2 bindings)
[pick] best_policy=policy:follow_mom best_by=rl_exploit(deficit) triggered=[policy:follow_mom] deficits=[policy:follow_mom:0.00] non_drive=[policy:follow_mom:0.00]
[executed] policy:follow_mom (ok, reward=+0.10) binding=b49
pre:  dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=safe (hunger=0.50, fatigue=0.30)
base: {'base': 'NEAREST_PRED', 'pred': 'posture:standing', 'bid': 'b14'}
foa:  {'seeds': ['b23', 'b14', 'b21'], 'size': 9, 'ids': {'b15', 'b22', 'b19', 'b18', 'b21', 'b14', 'b16', 'b20', 'b23'}}
cands:['b14', '?']
post: dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=safe (hunger=0.50, fatigue=0.30)
[env-loop] summary envr't step=6 stage=first_stand posture=standing mom=near nipple=hidden last_policy='policy:follow_mom' zone=safe
[env-loop] explain posture: posture remains 'standing'; no storyboard transition affecting posture this step.
[env-loop] explain nipple: nipple remains hidden; the storyboard has not yet made it reachable (or visible) to the kid in this stage.
[env-loop] explain zone: zone changed 'unknown'→'safe'; cliff is no longer near and shelter is near, so the kid is now in a sheltered niche where resting/feeding are allowed.

[env-loop] Step 8/15
[env] env_step=7 (since reset) stage=first_stand posture=standing mom_distance=near nipple_state=hidden action='policy:follow_mom'
[env→working] pred:posture:standing -> w50 (b50) (attach=now)
[env→working] pred:proximity:mom:close -> w51 (b51) (attach=latest)
[env→working] pred:proximity:shelter:far -> w52 (b52) (attach=latest)
[env→working] pred:hazard:cliff:near -> w53 (b53) (attach=latest)
[env→working] cue:vision:silhouette:mom -> w54 (b54) (attach=latest)
[env→world] pred:proximity:shelter:far → b25 (attach=now)
[env→world] pred:hazard:cliff:near → b26 (attach=latest)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=near shelter=far zone=unsafe_cliff_near
[env→controller] policy:follow_mom (added 2 bindings)
[pick] best_policy=policy:follow_mom best_by=rl_exploit(deficit) triggered=[policy:follow_mom] deficits=[policy:follow_mom:0.00] non_drive=[policy:follow_mom:0.00]
[executed] policy:follow_mom (ok, reward=+0.10) binding=b56
pre:  dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
base: {'base': 'NEAREST_PRED', 'pred': 'posture:standing', 'bid': 'b14'}
foa:  {'seeds': ['b26', 'b14', 'b21'], 'size': 12, 'ids': {'b15', 'b22', 'b19', 'b23', 'b18', 'b21', 'b25', 'b26', 'b14', 'b24', 'b20', 'b16'}}
cands:['b14', '?']
post: dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
[env-loop] summary envr't step=7 stage=first_stand posture=standing mom=near nipple=hidden last_policy='policy:follow_mom' zone=unsafe_cliff_near
[env-loop] explain posture: posture remains 'standing'; no storyboard transition affecting posture this step.
[env-loop] explain nipple: nipple remains hidden; the storyboard has not yet made it reachable (or visible) to the kid in this stage.
[env-loop] explain zone: zone changed 'safe'→'unsafe_cliff_near'; BodyMap now sees the cliff near while shelter is not near, so this geometry is treated as unsafe for resting.

[env-loop] Step 9/15
[env] env_step=8 (since reset) stage=first_stand posture=standing mom_distance=near nipple_state=hidden action='policy:follow_mom'
[env→working] pred:posture:standing -> w57 (b57) (attach=now)
[env→working] pred:proximity:mom:close -> w58 (b58) (attach=latest)
[env→working] pred:proximity:shelter:far -> w59 (b59) (attach=latest)
[env→working] pred:hazard:cliff:near -> w60 (b60) (attach=latest)
[env→working] cue:vision:silhouette:mom -> w61 (b61) (attach=latest)
[env→world] (long-term obs unchanged; no new pred:* bindings written)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=near shelter=far zone=unsafe_cliff_near
[env→controller] policy:follow_mom (added 2 bindings)
[pick] best_policy=policy:follow_mom best_by=rl_exploit(deficit) triggered=[policy:follow_mom] deficits=[policy:follow_mom:0.00] non_drive=[policy:follow_mom:0.00]
[executed] policy:follow_mom (ok, reward=+0.10) binding=b63
pre:  dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
base: {'base': 'NEAREST_PRED', 'pred': 'posture:standing', 'bid': 'b14'}
foa:  {'seeds': ['b27', 'b14', 'b21'], 'size': 13, 'ids': {'b22', 'b18', 'b21', 'b25', 'b24', 'b23', 'b27', 'b16', 'b15', 'b19', 'b26', 'b14', 'b20'}}
cands:['b14', '?']
post: dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
[env-loop] summary envr't step=8 stage=first_stand posture=standing mom=near nipple=hidden last_policy='policy:follow_mom' zone=unsafe_cliff_near
[env-loop] explain posture: posture remains 'standing'; no storyboard transition affecting posture this step.
[env-loop] explain nipple: nipple remains hidden; the storyboard has not yet made it reachable (or visible) to the kid in this stage.
[env-loop] explain zone: zone is 'unsafe_cliff_near'; BodyMap sees a nearby cliff but no nearby shelter, so resting policies are gated off in this configuration.

[env-loop] Step 10/15
[env] env_step=9 (since reset) stage=first_stand posture=standing mom_distance=near nipple_state=hidden action='policy:follow_mom'
[env→working] pred:posture:standing -> w64 (b64) (attach=now)
[env→working] pred:proximity:mom:close -> w65 (b65) (attach=latest)
[env→working] pred:proximity:shelter:far -> w66 (b66) (attach=latest)
[env→working] pred:hazard:cliff:near -> w67 (b67) (attach=latest)
[env→working] cue:vision:silhouette:mom -> w68 (b68) (attach=latest)
[env→world] (long-term obs unchanged; no new pred:* bindings written)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=near shelter=far zone=unsafe_cliff_near
[env→controller] policy:follow_mom (added 2 bindings)
[pick] best_policy=policy:follow_mom best_by=rl_exploit(deficit) triggered=[policy:follow_mom] deficits=[policy:follow_mom:0.00] non_drive=[policy:follow_mom:0.00]
[executed] policy:follow_mom (ok, reward=+0.10) binding=b70
pre:  dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
base: {'base': 'NEAREST_PRED', 'pred': 'posture:standing', 'bid': 'b14'}
foa:  {'seeds': ['b27', 'b14', 'b21'], 'size': 13, 'ids': {'b22', 'b18', 'b21', 'b25', 'b24', 'b23', 'b27', 'b16', 'b15', 'b19', 'b26', 'b14', 'b20'}}
cands:['b14', '?']
post: dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
[env-loop] summary envr't step=9 stage=first_stand posture=standing mom=near nipple=hidden last_policy='policy:follow_mom' zone=unsafe_cliff_near
[env-loop] explain posture: posture remains 'standing'; no storyboard transition affecting posture this step.
[env-loop] explain nipple: nipple remains hidden; the storyboard has not yet made it reachable (or visible) to the kid in this stage.
[env-loop] explain zone: zone is 'unsafe_cliff_near'; BodyMap sees a nearby cliff but no nearby shelter, so resting policies are gated off in this configuration.

[env-loop] Step 11/15
[env] env_step=10 (since reset) stage=first_stand posture=standing mom_distance=near nipple_state=hidden action='policy:follow_mom'
[env→working] pred:posture:standing -> w71 (b71) (attach=now)
[env→working] pred:proximity:mom:close -> w72 (b72) (attach=latest)
[env→working] pred:proximity:shelter:far -> w73 (b73) (attach=latest)
[env→working] pred:hazard:cliff:near -> w74 (b74) (attach=latest)
[env→working] cue:vision:silhouette:mom -> w75 (b75) (attach=latest)
[env→world] (long-term obs unchanged; no new pred:* bindings written)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=near shelter=far zone=unsafe_cliff_near
[env→controller] policy:follow_mom (added 2 bindings)
[pick] best_policy=policy:follow_mom best_by=rl_exploit(deficit) triggered=[policy:follow_mom] deficits=[policy:follow_mom:0.00] non_drive=[policy:follow_mom:0.00]
[executed] policy:follow_mom (ok, reward=+0.10) binding=b77
pre:  dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
base: {'base': 'NEAREST_PRED', 'pred': 'posture:standing', 'bid': 'b14'}
foa:  {'seeds': ['b27', 'b14', 'b21'], 'size': 13, 'ids': {'b22', 'b18', 'b21', 'b25', 'b24', 'b23', 'b27', 'b16', 'b15', 'b19', 'b26', 'b14', 'b20'}}
cands:['b14', '?']
post: dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
[env-loop] summary envr't step=10 stage=first_stand posture=standing mom=near nipple=hidden last_policy='policy:follow_mom' zone=unsafe_cliff_near
[env-loop] explain posture: posture remains 'standing'; no storyboard transition affecting posture this step.
[env-loop] explain nipple: nipple remains hidden; the storyboard has not yet made it reachable (or visible) to the kid in this stage.
[env-loop] explain zone: zone is 'unsafe_cliff_near'; BodyMap sees a nearby cliff but no nearby shelter, so resting policies are gated off in this configuration.

[env-loop] Step 12/15
[env] env_step=11 (since reset) stage=first_stand posture=standing mom_distance=near nipple_state=reachable action='policy:follow_mom'
[env→working] pred:posture:standing -> w78 (b78) (attach=now)
[env→working] pred:proximity:mom:close -> w79 (b79) (attach=latest)
[env→working] pred:proximity:shelter:far -> w80 (b80) (attach=latest)
[env→working] pred:hazard:cliff:near -> w81 (b81) (attach=latest)
[env→working] pred:nipple:found -> w82 (b82) (attach=latest)
[env→working] cue:vision:silhouette:mom -> w83 (b83) (attach=latest)
[env→world] pred:nipple:found → b28 (attach=now)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=near shelter=far zone=unsafe_cliff_near
[env→controller] policy:follow_mom (added 2 bindings)
[pick] best_policy=policy:follow_mom best_by=rl_exploit(deficit) triggered=[policy:follow_mom] deficits=[policy:follow_mom:0.00] non_drive=[policy:follow_mom:0.00]
[executed] policy:follow_mom (ok, reward=+0.10) binding=b85
pre:  dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
base: {'base': 'NEAREST_PRED', 'pred': 'posture:standing', 'bid': 'b14'}
foa:  {'seeds': ['b28', 'b14', 'b21'], 'size': 14, 'ids': {'b15', 'b28', 'b22', 'b19', 'b23', 'b18', 'b21', 'b25', 'b26', 'b14', 'b16', 'b24', 'b20', 'b27'}}
cands:['b14', '?']
post: dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
[env-loop] summary envr't step=11 stage=first_stand posture=standing mom=near nipple=reachable last_policy='policy:follow_mom' zone=unsafe_cliff_near
[env-loop] explain posture: posture remains 'standing'; no storyboard transition affecting posture this step.
[env-loop] explain nipple: nipple changed hidden→reachable as the storyboard crossed its "nipple reachable" threshold in stage 'first_stand'.
[env-loop] explain zone: zone is 'unsafe_cliff_near'; BodyMap sees a nearby cliff but no nearby shelter, so resting policies are gated off in this configuration.

[env-loop] Step 13/15
[env] env_step=12 (since reset) stage=first_stand posture=standing mom_distance=near nipple_state=reachable action='policy:follow_mom'
[env→working] pred:posture:standing -> w86 (b86) (attach=now)
[env→working] pred:proximity:mom:close -> w87 (b87) (attach=latest)
[env→working] pred:proximity:shelter:far -> w88 (b88) (attach=latest)
[env→working] pred:hazard:cliff:near -> w89 (b89) (attach=latest)
[env→working] pred:nipple:found -> w90 (b90) (attach=latest)
[env→working] cue:vision:silhouette:mom -> w91 (b91) (attach=latest)
[env→world] (long-term obs unchanged; no new pred:* bindings written)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=near shelter=far zone=unsafe_cliff_near
[env→controller] policy:follow_mom (added 2 bindings)
[pick] best_policy=policy:follow_mom best_by=rl_exploit(deficit) triggered=[policy:follow_mom] deficits=[policy:follow_mom:0.00] non_drive=[policy:follow_mom:0.00]
[executed] policy:follow_mom (ok, reward=+0.10) binding=b93
pre:  dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
base: {'base': 'NEAREST_PRED', 'pred': 'posture:standing', 'bid': 'b14'}
foa:  {'seeds': ['b29', 'b14', 'b21'], 'size': 15, 'ids': {'b22', 'b28', 'b18', 'b21', 'b25', 'b24', 'b27', 'b23', 'b16', 'b15', 'b19', 'b29', 'b26', 'b14', 'b20'}}
cands:['b14', '?']
post: dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
[env-loop] summary envr't step=12 stage=first_stand posture=standing mom=near nipple=reachable last_policy='policy:follow_mom' zone=unsafe_cliff_near
[env-loop] explain posture: posture remains 'standing'; no storyboard transition affecting posture this step.
[env-loop] explain nipple: nipple_state remains 'reachable'; the nipple is available but has not yet latched this step.
[env-loop] explain zone: zone is 'unsafe_cliff_near'; BodyMap sees a nearby cliff but no nearby shelter, so resting policies are gated off in this configuration.

[env-loop] Step 14/15
[env] env_step=13 (since reset) stage=first_latch posture=latched mom_distance=near nipple_state=latched action='policy:follow_mom'
[env→working] pred:posture:standing -> w94 (b94) (attach=now)
[env→working] pred:proximity:mom:close -> w95 (b95) (attach=latest)
[env→working] pred:proximity:shelter:far -> w96 (b96) (attach=latest)
[env→working] pred:hazard:cliff:near -> w97 (b97) (attach=latest)
[env→working] pred:nipple:latched -> w98 (b98) (attach=latest)
[env→working] pred:milk:drinking -> w99 (b99) (attach=latest)
[env→working] cue:vision:silhouette:mom -> w100 (b100) (attach=latest)
[env→world] KEYFRAME: stage_change 'first_stand'→'first_latch' | cleared 5 pred slot(s), 1 cue slot(s)
[env→world] pred:posture:standing → b30 (attach=now)
[env→world] pred:proximity:mom:close → b31 (attach=latest)
[env→world] pred:proximity:shelter:far → b32 (attach=latest)
[env→world] pred:hazard:cliff:near → b33 (attach=latest)
[env→world] pred:nipple:latched → b34 (attach=latest)
[env→world] pred:milk:drinking → b35 (attach=latest)
[env→world] cue:vision:silhouette:mom → b36 (attach=latest)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=near shelter=far zone=unsafe_cliff_near
[env→controller] policy:follow_mom (added 2 bindings)
[pick] best_policy=policy:follow_mom best_by=rl_exploit(deficit) triggered=[policy:follow_mom] deficits=[policy:follow_mom:0.00] non_drive=[policy:follow_mom:0.00]
[executed] policy:follow_mom (ok, reward=+0.10) binding=b102
pre:  dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
base: {'base': 'NEAREST_PRED', 'pred': 'posture:standing', 'bid': 'b30'}
foa:  {'seeds': ['b36', 'b30', 'b21'], 'size': 5, 'ids': {'b36', 'b21', 'b30', 'b31', 'b32'}}
cands:['b30', '?']
post: dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=unsafe_cliff_near (hunger=0.50, fatigue=0.30)
[env-loop] summary envr't step=13 stage=first_latch posture=latched mom=near nipple=latched last_policy='policy:follow_mom' zone=unsafe_cliff_near
[env-loop] explain posture: nipple became reachable and then latched in the storyboard; the kid switches from upright to 'latched' while feeding.
[env-loop] explain nipple: nipple changed reachable→latched as the storyboard hit its "auto latch" threshold; milk:drinking now begins.
[env-loop] explain zone: zone is 'unsafe_cliff_near'; BodyMap sees a nearby cliff but no nearby shelter, so resting policies are gated off in this configuration.

[env-loop] Step 15/15
[env] env_step=14 (since reset) stage=first_latch posture=latched mom_distance=near nipple_state=latched action='policy:follow_mom'
[env→working] pred:posture:standing -> w103 (b103) (attach=now)
[env→working] pred:proximity:mom:close -> w104 (b104) (attach=latest)
[env→working] pred:proximity:shelter:near -> w105 (b105) (attach=latest)
[env→working] pred:hazard:cliff:far -> w106 (b106) (attach=latest)
[env→working] pred:nipple:latched -> w107 (b107) (attach=latest)
[env→working] pred:milk:drinking -> w108 (b108) (attach=latest)
[env→working] cue:vision:silhouette:mom -> w109 (b109) (attach=latest)
[env→world] pred:proximity:shelter:near → b38 (attach=now)
[env→world] pred:hazard:cliff:far → b39 (attach=latest)
[gate:rest] fatigue=0.30 high=False cue=False bodymap_stale=False cliff=far shelter=near zone=safe
[env→controller] policy:follow_mom (added 2 bindings)
[pick] best_policy=policy:follow_mom best_by=rl_exploit(deficit) triggered=[policy:follow_mom] deficits=[policy:follow_mom:0.00] non_drive=[policy:follow_mom:0.00]
[executed] policy:follow_mom (ok, reward=+0.10) binding=b111
pre:  dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=safe (hunger=0.50, fatigue=0.30)
base: {'base': 'NEAREST_PRED', 'pred': 'posture:standing', 'bid': 'b30'}
foa:  {'seeds': ['b39', 'b30', 'b21', 'b36'], 'size': 8, 'ids': {'b38', 'b36', 'b37', 'b21', 'b30', 'b39', 'b31', 'b32'}}
cands:['b30', '?']
post: dev_gate: True, trigger: fallback=True when not fallen; posture=standing zone=safe (hunger=0.50, fatigue=0.30)
[env-loop] summary envr't step=14 stage=first_latch posture=latched mom=near nipple=latched last_policy='policy:follow_mom' zone=safe
[env-loop] explain posture: posture remains 'latched'; no storyboard transition affecting posture this step.
[env-loop] explain nipple: nipple remains latched; the kid continues feeding at the maternal nipple this step.
[env-loop] explain zone: zone changed 'unsafe_cliff_near'→'safe'; cliff is no longer near and shelter is near, so the kid is now in a sheltered niche where resting/feeding are allowed.

[env-loop] Closed-loop run complete. You can inspect details via Snapshot or the mini-snapshot that follows.

[workingmap] auto snapshot (last 250): last 111 binding(s) of 111 total
  w1 (b1): [] edges=1
  w2 (b2): [anchor:NOW_ORIGIN] edges=0
  w3 (b3): [pred:posture:fallen] edges=1
  w4 (b4): [pred:proximity:mom:far] edges=1
  w5 (b5): [pred:proximity:shelter:far] edges=1
  w6 (b6): [pred:hazard:cliff:far] edges=2
  w7 (b7): [action:push_up] edges=1
  w8 (b8): [action:extend_legs] edges=1
  w9 (b9): [pred:posture:standing] edges=0
  w10 (b10): [pred:posture:fallen] edges=1
  w11 (b11): [pred:proximity:mom:far] edges=1
  w12 (b12): [pred:proximity:shelter:far] edges=1
  w13 (b13): [pred:hazard:cliff:far] edges=2
  w14 (b14): [action:push_up] edges=1
  w15 (b15): [action:extend_legs] edges=1
  w16 (b16): [pred:posture:standing] edges=0
  w17 (b17): [pred:posture:fallen] edges=1
  w18 (b18): [pred:proximity:mom:far] edges=1
  w19 (b19): [pred:proximity:shelter:far] edges=1
  w20 (b20): [pred:hazard:cliff:far] edges=2
  w21 (b21): [action:recover_fall] edges=1
  w22 (b22): [pred:posture:standing] edges=0
  w23 (b23): [pred:posture:fallen] edges=1
  w24 (b24): [pred:proximity:mom:far] edges=1
  w25 (b25): [pred:proximity:shelter:far] edges=1
  w26 (b26): [pred:hazard:cliff:far] edges=2
  w27 (b27): [action:push_up] edges=1
  w28 (b28): [action:extend_legs] edges=1
  w29 (b29): [pred:posture:standing] edges=0
  w30 (b30): [pred:posture:standing] edges=1
  w31 (b31): [pred:proximity:mom:far] edges=1
  w32 (b32): [pred:proximity:shelter:far] edges=1
  w33 (b33): [pred:hazard:cliff:near] edges=2
  w34 (b34): [action:look_around] edges=1
  w35 (b35): [pred:alert] edges=0
  w36 (b36): [pred:posture:standing] edges=1
  w37 (b37): [pred:proximity:mom:close] edges=1
  w38 (b38): [pred:proximity:shelter:far] edges=1
  w39 (b39): [pred:hazard:cliff:far] edges=3
  w40 (b40): [cue:vision:silhouette:mom] edges=0
  w41 (b41): [action:look_around] edges=1
  w42 (b42): [pred:alert] edges=0
  w43 (b43): [pred:posture:standing] edges=1
  w44 (b44): [pred:proximity:mom:close] edges=1
  w45 (b45): [pred:proximity:shelter:near] edges=1
  w46 (b46): [pred:hazard:cliff:far] edges=3
  w47 (b47): [cue:vision:silhouette:mom] edges=0
  w48 (b48): [action:look_around] edges=1
  w49 (b49): [pred:alert] edges=0
  w50 (b50): [pred:posture:standing] edges=1
  w51 (b51): [pred:proximity:mom:close] edges=1
  w52 (b52): [pred:proximity:shelter:far] edges=1
  w53 (b53): [pred:hazard:cliff:near] edges=3
  w54 (b54): [cue:vision:silhouette:mom] edges=0
  w55 (b55): [action:look_around] edges=1
  w56 (b56): [pred:alert] edges=0
  w57 (b57): [pred:posture:standing] edges=1
  w58 (b58): [pred:proximity:mom:close] edges=1
  w59 (b59): [pred:proximity:shelter:far] edges=1
  w60 (b60): [pred:hazard:cliff:near] edges=3
  w61 (b61): [cue:vision:silhouette:mom] edges=0
  w62 (b62): [action:look_around] edges=1
  w63 (b63): [pred:alert] edges=0
  w64 (b64): [pred:posture:standing] edges=1
  w65 (b65): [pred:proximity:mom:close] edges=1
  w66 (b66): [pred:proximity:shelter:far] edges=1
  w67 (b67): [pred:hazard:cliff:near] edges=3
  w68 (b68): [cue:vision:silhouette:mom] edges=0
  w69 (b69): [action:look_around] edges=1
  w70 (b70): [pred:alert] edges=0
  w71 (b71): [pred:posture:standing] edges=1
  w72 (b72): [pred:proximity:mom:close] edges=1
  w73 (b73): [pred:proximity:shelter:far] edges=1
  w74 (b74): [pred:hazard:cliff:near] edges=3
  w75 (b75): [cue:vision:silhouette:mom] edges=0
  w76 (b76): [action:look_around] edges=1
  w77 (b77): [pred:alert] edges=0
  w78 (b78): [pred:posture:standing] edges=1
  w79 (b79): [pred:proximity:mom:close] edges=1
  w80 (b80): [pred:proximity:shelter:far] edges=1
  w81 (b81): [pred:hazard:cliff:near] edges=1
  w82 (b82): [pred:nipple:found] edges=3
  w83 (b83): [cue:vision:silhouette:mom] edges=0
  w84 (b84): [action:look_around] edges=1
  w85 (b85): [pred:alert] edges=0
  w86 (b86): [pred:posture:standing] edges=1
  w87 (b87): [pred:proximity:mom:close] edges=1
  w88 (b88): [pred:proximity:shelter:far] edges=1
  w89 (b89): [pred:hazard:cliff:near] edges=1
  w90 (b90): [pred:nipple:found] edges=3
  w91 (b91): [cue:vision:silhouette:mom] edges=0
  w92 (b92): [action:look_around] edges=1
  w93 (b93): [pred:alert] edges=0
  w94 (b94): [pred:posture:standing] edges=1
  w95 (b95): [pred:proximity:mom:close] edges=1
  w96 (b96): [pred:proximity:shelter:far] edges=1
  w97 (b97): [pred:hazard:cliff:near] edges=1
  w98 (b98): [pred:nipple:latched] edges=1
  w99 (b99): [pred:milk:drinking] edges=3
  w100 (b100): [cue:vision:silhouette:mom] edges=0
  w101 (b101): [action:look_around] edges=1
  w102 (b102): [pred:alert] edges=0
  w103 (b103): [pred:posture:standing] edges=1
  w104 (b104): [pred:proximity:mom:close] edges=1
  w105 (b105): [pred:proximity:shelter:near] edges=1
  w106 (b106): [pred:hazard:cliff:far] edges=1
  w107 (b107): [pred:nipple:latched] edges=1
  w108 (b108): [anchor:NOW, pred:milk:drinking] edges=2
  w109 (b109): [cue:vision:silhouette:mom] edges=0
  w110 (b110): [action:look_around] edges=1
  w111 (b111): [pred:alert] edges=0

[skills-hud] Learned policy values after env-loop:
(terminology: hud==heads-up-display; n==number times policy executed; rate==% times we counted policy as successful;
  last==reward value that policy received the last time it executed; q==learned value estimate;
  EMA==exponential moving average of rewards; q_new = (1-alpha_smoothing_factor)*q_old + alpha*reward (alpha ~0.3))
(if RL=enabled, epsilon is theoretical % times to choose randomly, 'explore_rate' is measured % of random choices;
   delta=0 then q used only for exact ties otherwise deficit values within delta range are considered tied and q used to decide)
NOTE: deficit here means drive-urgency = max(0, drive_value - HIGH_THRESHOLD) (amount ABOVE threshold, not a negative deficit).
Policies without a drive-urgency term score 0.00 and will tie-break by stable policy order (or RL tie-break, if enabled)
RL: enabled=True epsilon=0.050 delta=0.000 (explore=2, exploit=13, explore_rate=0.13)
Skill HUD (top 3 by q=EMA reward):
   1) policy:stand_up     n=  3  rate=1.00  q=+0.66  last=+1.00
   2) policy:recover_fall  n=  1  rate=1.00  q=+0.24  last=+0.80
   3) policy:follow_mom   n= 11  rate=1.00  q=+0.10  last=+0.10

Values of time measures, nodes and links at this point:
[time] controller_steps=15, cos_to_last_boundary=0.8509, temporal_epochs=0, autonomic_ticks=0, age_days=0.0000, cog_cycles=0
[world] last 40 binding(s):
  b1: [anchor:NOW_ORIGIN]
      edges: then:b2, then:b3
  b2: [pred:posture:fallen]
      edges: (none)
  b3: [pred:posture:fallen]
      edges: then:b4, then:b7, then:b8, then:b9
  b4: [pred:proximity:mom:far]
      edges: then:b5
  b5: [pred:proximity:shelter:far]
      edges: then:b6
  b6: [pred:hazard:cliff:far]
      edges: (none)
  b7: [action:stand_up]
      edges: then:b3
  b8: [action:recover_fall]
      edges: then:b9
  b9: [pred:posture:fallen]
      edges: then:b10, then:b13, then:b14
  b10: [pred:proximity:mom:far]
      edges: then:b11
  b11: [pred:proximity:shelter:far]
      edges: then:b12
  b12: [pred:hazard:cliff:far]
      edges: (none)
  b13: [action:stand_up]
      edges: then:b14
  b14: [pred:posture:standing]
      edges: then:b15, then:b18, then:b19, then:b22, then:b23, then:b24, then:b25, then:b27, then:b28, then:b29, then:b30
  b15: [pred:proximity:mom:far]
      edges: then:b16
  b16: [pred:proximity:shelter:far]
      edges: then:b17
  b17: [pred:hazard:cliff:near]
      edges: (none)
  b18: [action:follow_mom]
      edges: then:b14
  b19: [pred:proximity:mom:close]
      edges: then:b20
  b20: [pred:hazard:cliff:far]
      edges: then:b21
  b21: [cue:vision:silhouette:mom]
      edges: (none)
  b22: [action:follow_mom]
      edges: then:b14
  b23: [pred:proximity:shelter:near]
      edges: (none)
  b24: [action:follow_mom]
      edges: then:b14
  b25: [pred:proximity:shelter:far]
      edges: then:b26
  b26: [pred:hazard:cliff:near]
      edges: (none)
  b27: [action:follow_mom]
      edges: then:b14
  b28: [pred:nipple:found]
      edges: (none)
  b29: [action:follow_mom]
      edges: then:b30
  b30: [anchor:NOW, pred:posture:standing]
      edges: then:b31, then:b37, then:b38, then:b40
  b31: [pred:proximity:mom:close, pred:valence:like]
      edges: then:b32
  b32: [pred:proximity:shelter:far]
      edges: then:b33
  b33: [pred:hazard:cliff:near]
      edges: then:b34
  b34: [pred:nipple:latched]
      edges: then:b35
  b35: [pred:milk:drinking]
      edges: then:b36
  b36: [cue:vision:silhouette:mom]
      edges: (none)
  b37: [action:follow_mom]
      edges: then:b30
  b38: [pred:proximity:shelter:near]
      edges: then:b39
  b39: [pred:hazard:cliff:far]
      edges: (none)
  b40: [action:follow_mom]
      edges: (none)

-----
